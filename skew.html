<html>
  <head>
    <style>
      :root {
        --scale: .3;
        --spacing: 46px;
        --tilt: 30deg;
        --background-color: #f5f5f5;
        --diatype: "ABCDiatype", Helvetica, Arial, sans-serif;
      }

      ::-webkit-scrollbar {
        width: 20px;
        z-index: 1;
      }

      ::-webkit-scrollbar-thumb {
        border-left: solid 1px black;
        border-bottom: solid 1px black;
        border-top: solid 1px black;
        cursor: grab;
        background: #f5f5f5;
      }

      ::-webkit-scrollbar-track {
        background: #fff;
        border-left: solid 1px black;
      }

      body {
        background-color: var(--background-color);
        height: 100%;
        margin: auto 0;
        overflow: hidden;
        font-family: var(--diatype);
      }

      .header {
        grid-area: header;
      }

      .header, .footer, .main {
        display: flex;
        width: 100%;
        position: relative;
        flex-wrap: nowrap;
        overflow: hidden;
      }

      .header {
        height: 40px;
        border-bottom: 1px solid black;
      }

      .header__left, .main__three, .footer__left, .footer__right, .header__right {
        flex: 1 1 auto;
        display: flex;
      }

      .footer__right, .header__right {
        justify-content: space-between;
      }

      .header__right, .footer__right, .main__sidebar {
        width: 33.33%;
        flex: 0 0 auto !important; /* Maybe fix? */
      }

      .header__left, .main__three, .footer__left, .footer__right, .header__right {
        flex: 1 1 auto;
        display: flex;
      }

      .index {
        display: flex;
        justify-content: right;
        align-items: center;
        margin-left: 5px;
      }

      .index, .about {
        text-decoration: underline;
      }

      a, a:visited {
        color: #000;
        text-decoration: none;
      }

      a, button {
        cursor: revert;
      }

      .index, .about {
        text-decoration: underline;
      }

      .about {
        display: flex;
        justify-content: right;
        align-items: center;
        margin-right: 20px;
      }

      .logo {
        display: flex;
        justify-content: left;
        align-items: center;
        color: #000;
        margin-left: 20px;
      }

      .container {
        transform: translate(246px, -317px) scale(var(--scale));
        position: absolute;
        left: 50%;
        top: 50%;
      }

      main {
        display: flex;
        width: 100%;
        height: calc(100% - 80px); /* fix */

        position: relative;
        flex-wrap: nowrap;
        overflow: hidden;
      }

      .main__three {
        overflow: hidden;
        position: relative;
        height: 100%;
        width: 66.66%; /* fix */
        cursor: grab;
      }

      .main__sidebar {
        top: 0;
        background-color: var(--background-color);
        overflow-y: scroll;
        scroll-behavior: smooth;
        height: 100%;
      }

      .header__right, .footer__right, .main__sidebar {
        width: 33.33%;
        flex: 0 0 auto;
      }

      .main__sidebar, .footer__right {
        border-left: 1px solid black;
      }

      .container img {
        position: absolute;
        width: 200px;
        transition: transform .2s ease;
        cursor: pointer;
      }

      /*
      img:hover {
        transform: translate(0,-40px) rotate(var(--tilt)) skew(var(--tilt));
      }
      */

      .list {
        grid-area: list;
        width: 40px;
        height: 40px;
        background-image: url(list.svg);
        border-right: 1px solid black;
      }

      .footer__left {
        display: grid;
        width: 100%;
        height: 100%;
        grid-template-areas: "list back next";
        grid-template-columns: 1fr 40px 40px;
        grid-template-rows: 40px;
      }

      .footer {
        border-top: 1px solid black;
        grid-area: footer;
      }

      .back {
        grid-area: back;
        border-left: black 1px solid;
        width: 40px;
        height: 40px;
        background-image: url(back.svg);
      }

      .next {
        grid-area: next;
        border-left: black 1px solid;
        width: 40px;
        height: 40px;
        background-image: url(next.svg);
      }

      .model {
        display: flex;
        justify-content: right;
        align-items: center;
        margin-left: 10px;
      }

      input[type=checkbox] {
        content: url(expand.svg);
        appearance: none;
        display: block;
        width: 40px;
        margin: 0;
        height: 40px;
        background-color: #f5f5f5;
      }

      .info {
        display: flex;
        justify-content: right;
        width: 40px;
        height: 40px;
        cursor: pointer;
        background-image: url(expand.svg);
        border-right: 1px solid black;
      }

      .post {
        padding: 40px;
        border-bottom: 1px black solid;
      }

      .post img {
        width: 100%;
      }

      .post .name {
        font-family: var(--diatype);
        font-weight: 400;
        text-align: center;
        font-size: 1.2em;
        margin: 0;
        margin-top: 30px;
      }

      .post .date, .post .client {
        font-family: var(--diatype); /* should be --diatype_i */
        font-style: italic; 
        font-weight: 100;
        text-align: center;
        font-size: 1.2em;
        margin: 0;
      }
    </style>
  </head>
  <body>
    <header class="header" id="header">
      <div class="header__left">
        <div class="logo">
          <a href="/" class="link-logo">EvilSpy.Company</a>
        </div>
      </div>
      <div class="header__right">
        <div class="index">
          <a class="link-menu" href="timeline.html">Timeline</a>
        </div>
        <div class="about">
          <a class="link-menu" href="about.html">About</a>
        </div>
      </div>
    </header>
    <main>
      <div class='main__three' id='threeContainer'>
        <div class='container'>

        </div>
      </div>
      <section class="main__sidebar main__sidebar--hidden" id="mainSidebar">

      </section>
    </main>
    <footer class="footer" id="footer">
        <div class="footer__left">
          <a href="/index.html">
            <div class="list"></div>
          </a>

          <div id="prevBtn" class="back"></div>
          <div id="nextBtn" class="next"></div>

        </div>
        <div class="footer__right">
          <div class="model" id="phoneName">Siemens ME45</div>
          <input type="checkbox" class="info" id="toggleSidebar">
        </div>
    </footer>

    <script>

      const images = ['castle.jpg', 'zelda.jpeg', 'mario.jpeg','zelda_2.png'];
      const names = ['John Doe', 'Jane Smith', 'Alice Brown', 'Charlie Green', 'Emma White']; // Add more names as per your requirement.
      const clients = ['Client A', 'Client B', 'Client C', 'Client D', 'Client E']; // Add more clients as per your requirement.

      let projects = [];

      for (let i = 0; i < 50; i++) {
        let randomImage = images[Math.floor(Math.random() * images.length)];
        let randomName = names[Math.floor(Math.random() * names.length)];
        let randomClient = clients[Math.floor(Math.random() * clients.length)];

        projects.push({
          name: randomName,
          date: new Date().toISOString().split('T')[0], // current date in 'YYYY-MM-DD' format.
          client: randomClient,
          image: randomImage,
          posts: [
            {
              title: `Post Title ${i + 1}`,
              images: [images[Math.floor(Math.random() * images.length)]],
              text: `This is blog post number ${i + 1}.`
            },
            {
              title: `Post Title ${i + 2}`,
              images: [images[Math.floor(Math.random() * images.length)]],
              text: `This is blog post number ${i + 2}.`
            }
          ]
        });
      }
      console.log(projects)
      function dom(elementType, properties, innerHTML) {
        let element = document.createElement(elementType); // create a DOM element

        for (let propertyName in properties) {
          element[propertyName] = properties[propertyName]
        }

        element.innerHTML = innerHTML

        return element;
      }

      let index = 0
      const timelineNode = document.querySelector('.container')
      const sectionNode = document.querySelector('section')
      for (let project of projects) {
        // Add images to timeline
        let transformCSS = `transform: rotate(var(--tilt)) skew(var(--tilt));`
        let topCSS = `top: calc(${index} * var(--spacing));`
        let leftCSS = `left: calc(-${index} * var(--spacing));`

        const imgNode = dom(
          'IMG',
          {
            src: project.image,
            style: `${transformCSS} ${topCSS} ${leftCSS}`
          }
        )
        timelineNode.append(imgNode)

        // Add project
        const projectNode = dom('DIV', {}, `
          <div class='post'>
            <img src='${project.image}'>
            <h1 class='name'>${project.name}</h1>
            <h1 class='client'>${project.client}</h1>
            <h1 class='date'>${project.date}</h1>
          </div>
        `)
        sectionNode.append(projectNode)

        // Add posts
        for (let post of project.posts) {
          const postNode = dom('DIV', {}, `
              <div class='post'>
                <h1 class='title'>${post.title}</h1>
                <img src='${post.images[0]}'>
                <p class='text'>${post.text}</p>
              </div>
          `)

          sectionNode.append(postNode)
        }

        index++
      }

      document.querySelector('.main__three').addEventListener("wheel", (event) => {
        let root = document.documentElement;
        const scale = parseFloat(getComputedStyle(root).getPropertyValue('--scale'))
        root.style.setProperty('--scale', scale + (.001 * event.deltaY))
      });
      
    </script>
  </body>
</html>
